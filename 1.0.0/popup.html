<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="popup.css" />
    </head>
    <body>
        <div id="popup-opening-animation" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:#222; z-index:9999; align-items:center; justify-content:center; flex-direction:column;">
            <img src="icons/kwik-128.png" alt="KWIK Logo" style="width:72px; height:72px; animation: popupLogoPop 0.7s;">
            <div style="color:#00cc66; font-size:2em; font-weight:bold; margin-top:12px; animation: popupTextPop 0.7s;">KWIK</div>
        </div>
        <div class="kwik-footer-container">
            <footer class="kwik-footer">
                <div class="kwik-footer-content">
                    <img src="icons/kwik-32.png" alt="KWIK Logo" class="kwik-footer-logo" />
                    <div>
                        <span>&copy; 2025 Obdotgit</span>
                        <span> | <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" rel="noopener">CC0</a></span>
                        <span> | <a href="https://github.com/Obdotgit/kwik/tree/main" target="_blank" rel="noopener">GitHub</a></span>
                    </div>
                </div>
            </footer>
        </div>
        <div class="popup-container" role="main">
            <div class="header">
                <h1>KWIK</h1><span class="header-subtitle">version 1.0.0</span>
                <button id="settingsBtn" title="Settings" aria-label="Settings">‚öôÔ∏è</button>
            </div>

            <div style="display:flex; gap:8px;">
                <button id="favoritesFilterBtn" aria-label="Show favorites" title="Show favorites only" style="background:none; border:none; font-size:1.3em; cursor:pointer;">‚≠ê</button>
                <button id="sortAlphaBtn" aria-label="Sort alphabetically" title="Sort alphabetically" style="background:none; border:none; font-size:1.3em; cursor:pointer;">üî§</button>
                <button id="tipsBtn" aria-label="Show KWIK Tips" title="Show KWIK Tips" style="background:none; border:none; font-size:1.3em; cursor:pointer;">üí°</button>
                <button id="backupBtn" aria-label="Backup/Restore" title="Backup or Restore Apps" style="background:none; border:none; font-size:1.3em; cursor:pointer;">üóÑÔ∏è</button>
            </div>

            <button id="addAppBtn" aria-label="Add new app">+ Add App</button>
            <input type="search" id="searchInput" placeholder="Search apps..." aria-label="Search apps" autocomplete="off" />

            <div id="recentlyUsedSection" style="margin-bottom:8px;"></div>
            <div id="appsGrid" aria-live="polite" aria-relevant="additions removals"></div>
        </div>

        <div id="modalBackdrop" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
            <div id="editModal">
                <h2 id="modalTitle" style="margin: 0 0 12px;">Edit App</h2>
                <label for="appNameInput">Name</label>
                <input type="text" id="appNameInput" autocomplete="off" />

                <label for="appUrlInput">URL / Protocol</label>
                <input type="url" id="appUrlInput" autocomplete="off" />

                <label for="appIconInput">Icon (emoji or text)</label>
                <input type="text" id="appIconInput" autocomplete="off" maxlength="2" />

                <div id="modalButtons">
                    <button id="cancelBtn">Cancel</button>
                    <button id="saveBtn">Save</button>
                </div>
            </div>
        </div>

        <div id="settingsModalBackdrop" role="dialog" aria-modal="true" aria-labelledby="settingsModalTitle" tabindex="-1" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1001;">
            <div id="settingsModal" style="background:white; border-radius:12px; padding:20px 25px; width:260px; box-shadow:0 6px 18px rgba(0,0,0,0.25); display:flex; flex-direction:column; gap:12px;">
                <h2 id="settingsModalTitle" style="margin:0 0 12px;">Settings</h2>
                <label for="themeSelect" style="display:flex; align-items:center; gap:8px;">
                    Theme:
                    <select id="themeSelect" style="border-radius:6px; border:1px solid #00cc66; padding:2px 6px;">
                        <option value="default">Default</option>
                        <option value="dark">Dark</option>
                        <option value="blue">Blue</option>
                        <option value="pink">Pink</option>
                    </select>
                </label>
                <label style="display:flex; align-items:center; gap:8px;">
                    <input type="checkbox" id="showTipsStartup" />
                    Show tips on startup
                </label>
                <label style="display:flex; align-items:center; gap:8px;">
                    <input type="checkbox" id="showOpeningAnim" />
                    Show opening animation
                </label>
                <button id="resetSettingsBtn" style="background:#ff9800; color:white; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Reset All Settings</button>
                <button id="clearAllBtn" style="background:#ff4c4c; color:white; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Clear All Apps</button>
                <div style="display:flex; justify-content:flex-end; margin-top:10px;">
                    <button id="closeSettingsBtn" style="background:#ddd; color:#555; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Close</button>
                </div>
            </div>
        </div>
        <div id="tipsModalBackdrop" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1002;">
            <div id="tipsModal" style="background:white; border-radius:12px; padding:20px 25px; width:260px; box-shadow:0 6px 18px rgba(0,0,0,0.25); display:flex; flex-direction:column; gap:12px;">
                <h2 style="margin:0 0 12px;">KWIK Tip</h2>
                <div id="tipText" style="font-size:1.05em;"></div>
                <div style="display:flex; justify-content:flex-end; margin-top:10px;">
                    <button id="closeTipsBtn" style="background:#ddd; color:#555; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Close</button>
                </div>
            </div>
        </div>

        <div id="backupModalBackdrop" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1003;">
            <div id="backupModal" style="background:white; border-radius:12px; padding:20px 25px; width:280px; box-shadow:0 6px 18px rgba(0,0,0,0.25); display:flex; flex-direction:column; gap:12px;">
                <h2 style="margin:0 0 12px;">Backup & Restore</h2>
                <button id="exportBtn" style="background:#00cc66; color:white; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Export Apps</button>
                <input type="file" id="importFileInput" accept=".json" style="margin-top:8px;" />
                <div style="display:flex; justify-content:flex-end; margin-top:10px;">
                    <button id="closeBackupBtn" style="background:#ddd; color:#555; border:none; padding:8px 14px; border-radius:6px; font-weight:600; cursor:pointer;">Close</button>
                </div>
            </div>
        </div>
        <script src="popup.js" type="text/javascript"></script>
    </body>
</html>
